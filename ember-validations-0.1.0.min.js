// ==========================================================================
// Project:   Ember Validations
// Copyright: Â© 2013 DockYar, LLC. and contributors.
// License:   Licensed under MIT license (see license.js)
// ==========================================================================


// Last commit: e7f9413 (2013-02-24 18:48:15 -0500)


(function(){Ember.Validations=Ember.Namespace.create({VERSION:"0.0.1"})})(),function(){Ember.Validations.messages={render:function(e,t){return Handlebars.compile(Ember.Validations.messages.defaults[e])(t)},defaults:{inclusion:"is not included in the list",exclusion:"is reserved",invalid:"is invalid",confirmation:"doesn't match {{attribute}}",accepted:"must be accepted",empty:"can't be empty",blank:"can't be blank",present:"must be blank",too_long:"is too long (maximum is {{count}} characters)",too_short:"is too short (minimum is {{count}} characters)",wrong_length:"is the wrong length (should be {{count}} characters)",not_a_number:"is not a number",not_an_integer:"must be an integer",greater_than:"must be greater than {{count}}",greater_than_or_equal_to:"must be greater than or equal to {{count}}",equal_to:"must be equal to {{count}}",less_than:"must be less than {{count}}",less_than_or_equal_to:"must be less than or equal to {{count}}",other_than:"must be other than {{count}}",odd:"must be odd",even:"must be even"}}}(),function(){Ember.Validations.Errors=Ember.Object.extend()}(),function(){Ember.Validations.Mixin=Ember.Mixin.create({init:function(){this.set("errors",Ember.Validations.Errors.create()),this.get("validations")===undefined&&this.set("validations",{})},validate:function(e){var t,n,r,i,s,o,u,a,f=!0;e!==undefined?s=[e]:s=Object.keys(this.validations);for(u=0;u<s.length;u++){r=s[u],this.errors.set(r,undefined),delete this.errors[r];for(i in this.validations[r]){o=this.validations[r][i];if(typeof o!="object"||typeof o=="object"&&o.constructor!==Array)o=[o];for(a=0;a<o.length;a++){n=Ember.Validations.validators.local[i](this,r,o[a]);if(n)break}if(n){this.errors.set(r,n),f=!1;break}}}return f}})}(),function(){Ember.Validations.patterns=Ember.Namespace.create({numericality:/^(-|\+)?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d*)?$/})}(),function(){Ember.Validations.validators=Ember.Namespace.create(),Ember.Validations.validators.local=Ember.Namespace.create(),Ember.Validations.validators.remote=Ember.Namespace.create()}(),function(){Ember.Validations.validators.local.reopen({acceptance:function(e,t,n){n===!0&&(n={}),n.message===undefined&&(n.message=Ember.Validations.messages.render("accepted",n));if(n.accept){if(e.get(t)!==n.accept)return n.message;return}if(e.get(t)!=="1"&&e.get(t)!==1&&e.get(t)!==!0)return n.message}})}(),function(){Ember.Validations.validators.local.reopen({confirmation:function(e,t,n){n===!0&&(n={attribute:t},n={message:Ember.Validations.messages.render("confirmation",n)});if(e.get(t)!==e.get(""+t+"Confirmation"))return n.message}})}(),function(){Ember.Validations.validators.local.reopen({exclusion:function(e,t,n){var r,i,s;n.constructor===Array&&(n={"in":n}),n.message===undefined&&(n.message=Ember.Validations.messages.render("exclusion",n)),r=this.presence(e,t,n);if(r){if(n.allow_blank===!0)return;return r}if(n["in"]&&Ember.$.inArray(e.get(t),n["in"])!==-1)return n.message;if(n.range){i=n.range[0],s=n.range[1];if(e.get(t)>=i&&e.get(t)<=s)return n.message}}})}(),function(){Ember.Validations.validators.local.reopen({format:function(e,t,n){var r;n.constructor===RegExp&&(n={"with":n}),n.message===undefined&&(n.message=Ember.Validations.messages.render("invalid",n)),r=this.presence(e,t,n);if(r){if(n.allow_blank===!0)return;return r}if(n["with"]&&!n["with"].test(e.get(t)))return n.message;if(n.without&&n.without.test(e.get(t)))return n.message}})}(),function(){Ember.Validations.validators.local.reopen({inclusion:function(e,t,n){var r,i,s;n.constructor===Array&&(n={"in":n}),n.message===undefined&&(n.message=Ember.Validations.messages.render("inclusion",n)),r=this.presence(e,t,n);if(r){if(n.allow_blank===!0)return;return r}if(n["in"]&&Ember.$.inArray(e.get(t),n["in"])===-1)return n.message;if(n.range){i=n.range[0],s=n.range[1];if(e.get(t)<i||e.get(t)>s)return n.message}}})}(),function(){Ember.Validations.validators.local.reopen({length:function(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d;r={is:"==",minimum:">=",maximum:"<="},i={is:"wrong_length",minimum:"too_short",maximum:"too_long"},typeof n=="number"&&(n={is:n}),n.messages===undefined&&(n.messages={}),p=Object.keys(i);for(h=0;h<p.length;h++)d=p[h],n[d]!==undefined&&n.messages[d]===undefined&&(Ember.$.inArray(d,Object.keys(r))!==-1&&(n.count=n[d]),n.messages[d]=Ember.Validations.messages.render(i[d],n),n.count!==undefined&&delete n.count);c=n.tokenizer||'split("")',l=(new Function("value","return value."+c+".length"))(e.get(t)||""),s={},n.is?s.message=n.messages.is:n.minimum&&(s.message=n.messages.minimum),a=this.presence(e,t,s);if(a){if(n.allow_blank===!0)return;return a}for(o in r){f=r[o];if(!n[o])continue;u=new Function("return "+l+" "+f+" "+n[o]);if(!u())return n.messages[o]}}})}(),function(){Ember.Validations.validators.local.reopen({numericality:function(e,t,n){var r,i,s,o,u,a,f,l,c,h;r={equal_to:"===",greater_than:">",greater_than_or_equal_to:">=",less_than:"<",less_than_or_equal_to:"<="},n===!0&&(n={}),n.messages===undefined&&(n.messages={numericality:Ember.Validations.messages.render("not_a_number",n)}),n.only_integer!==undefined&&n.messages.only_integer===undefined&&(n.messages.only_integer=Ember.Validations.messages.render("not_an_integer",n)),c=Object.keys(r).concat(["odd","even"]);for(l=0;l<c.length;l++)h=c[l],n[h]!==undefined&&n.messages[h]===undefined&&(Ember.$.inArray(h,Object.keys(r))!==-1&&(n.count=n[h]),n.messages[h]=Ember.Validations.messages.render(h,n),n.count!==undefined&&delete n.count);if(!Ember.Validations.patterns.numericality.test(e.get(t))){if(n.allow_blank===!0&&this.presence(e,t,{message:n.messages.numericality}))return;return n.messages.numericality}if(n.only_integer===!0&&!/^[+\-]?\d+$/.test(e.get(t)))return n.messages.only_integer;for(i in r){a=r[i];if(n[i]===undefined)continue;if(!isNaN(parseFloat(n[i]))&&isFinite(n[i]))s=n[i];else{if(!e.get(n[i]))return;s=e.get(n[i])}o=new Function("return "+e.get(t)+" "+a+" "+s);if(!o())return n.messages[i]}if(n.odd&&parseInt(e.get(t),10)%2===0)return n.messages.odd;if(n.even&&parseInt(e.get(t),10)%2!==0)return n.messages.even}})}(),function(){Ember.Validations.validators.local.reopen({presence:function(e,t,n){n===!0&&(n={}),n.message===undefined&&(n.message=Ember.Validations.messages.render("blank",n));if(/^\s*$/.test(e.get(t)||""))return n.message}})}(),function(){Ember.Validations.validators.local.reopen({uniqueness:function(e,t,n){}})}(),function(){}(),function(){}(),function(){}(),typeof location!="undefined"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&console.warn("You are running a production build of Ember on localhost and won't receive detailed error messages. If you want full error messages please use the non-minified build provided on the Ember website.");